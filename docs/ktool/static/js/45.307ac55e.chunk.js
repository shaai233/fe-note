(this.webpackJsonpktool=this.webpackJsonpktool||[]).push([[45],{1755:function(e,t,n){"use strict";n.r(t);n(273);var a=n(180),c=(n(274),n(181)),r=(n(109),n(41)),s=n(3),l=(n(301),n(124)),i=n(8),d=(n(74),n(27)),j=n(2),o=n(15),u=(n(298),n(88)),b=n(5),h=n(0),m=n(129),p=n(28),O=n(101),x=n(21),f=(n(587),n(590)),k=(n(280),n(195)),y=(n(271),n(130)),v=(n(563),n(564)),g=(n(85),n(44)),C=n(296),N=n(980),I=n(510),q=n(789),F=n.n(q),B=n(1),H=function(e){return Object(B.jsx)(u.a.List,{name:e.name,children:function(e,t){var n=t.add,a=t.remove;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(v.a,{orientation:"left",children:["URL\u5339\u914d\u89c4\u5219\xa0",Object(B.jsx)(g.a,{overlayInnerStyle:{width:"380px"},title:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("div",{children:"\u793a\u4f8b\uff1a ||kuaishou.com\uff08\u8bf4\u660e\uff1a \u4e0d\u586b\u5219\u9ed8\u8ba4\u5339\u914d\u6240\u6709\u8def\u5f84\uff09"}),Object(B.jsxs)("div",{children:[Object(B.jsx)("img",{alt:"\u793a\u4f8b",width:"100%",src:"https://static.yximgs.com/udata/pkg/ks-ad-fe/chrome-plugin-upload/2022-08-18/1660807888990.73f7e70da3846a18.png"}),Object(B.jsx)("br",{}),Object(B.jsx)("a",{href:"https://doc.yilijishu.info/chrome/declarativeNetRequest.html#rules",rel:"noreferrer",target:"_blank",children:"\u70b9\u51fb\u67e5\u770b\u8be6\u7ec6\u5339\u914d\u89c4\u5219"})]})]}),children:Object(B.jsx)(C.a,{})})]}),e.map((function(e){return Object(B.jsxs)(f.b,{style:{display:"flex"},align:"baseline",children:[Object(B.jsx)(u.a.Item,{style:{width:258},fieldKey:e.key,name:[e.name,"filter"],rules:[{required:!0,message:"\u5fc5\u586b\u9879"}],children:Object(B.jsx)(y.a,{placeholder:"||kuaishou.com"})}),Object(B.jsx)(r.a,{danger:!0,size:"small",type:"primary",className:F.a.deleteBtn,onClick:function(){return a(e.name)},children:Object(B.jsx)(N.a,{})}),Object(B.jsx)(u.a.Item,{fieldKey:e.key,name:[e.name,"enabled"],valuePropName:"checked",initialValue:!0,children:Object(B.jsx)(k.a,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173"})})]},e.key)})),!e.length&&Object(B.jsx)("div",{className:F.a.noHeaderContent,style:{marginBottom:12},children:"\u8fd8\u6ca1\u6709\u8bbe\u7f6e\u5339\u914d\u89c4\u5219\u54e6~"}),Object(B.jsx)(r.a,{type:"dashed",size:"small",shape:"round",icon:Object(B.jsx)(I.a,{}),className:F.a.linkBtn,onClick:n,children:"\u6dfb\u52a0"})]})}})},w=function(e){return Object(B.jsx)(u.a.List,{name:e.name,children:function(t,n){var a=n.add,c=n.remove;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(v.a,{orientation:"left",children:e.title}),t.map((function(e){return Object(B.jsxs)(f.b,{style:{display:"flex"},align:"baseline",children:[Object(B.jsx)(u.a.Item,{fieldKey:e.key,name:[e.name,"name"],rules:[{required:!0,message:"\u5fc5\u586b\u9879"}],children:Object(B.jsx)(y.a,{placeholder:"header name"})}),Object(B.jsx)(u.a.Item,{fieldKey:e.key,name:[e.name,"value"],rules:[{required:!0,message:"\u5fc5\u586b\u9879"}],children:Object(B.jsx)(y.a,{placeholder:"value"})}),Object(B.jsx)(r.a,{danger:!0,size:"small",type:"primary",className:F.a.deleteBtn,onClick:function(){return c(e.name)},children:Object(B.jsx)(N.a,{})}),Object(B.jsx)(u.a.Item,{fieldKey:e.key,name:[e.name,"enabled"],valuePropName:"checked",initialValue:!0,children:Object(B.jsx)(k.a,{checkedChildren:"\u5f00\u542f",unCheckedChildren:"\u5173\u95ed"})})]},e.key)})),!t.length&&Object(B.jsx)("div",{className:F.a.noHeaderContent,children:"\u8fd8\u6ca1\u6709\u8bbe\u7f6e\u76f8\u5173\u4fe1\u606f\u54e6~"}),Object(B.jsx)(r.a,{type:"dashed",size:"small",shape:"round",icon:Object(B.jsx)(I.a,{}),className:F.a.linkBtn,onClick:a,children:"\u6dfb\u52a0"})]})}})},R=function(e){var t=e||{},n=t.request,a=void 0===n?[]:n,c=t.response,r=void 0===c?[]:c,s=t.filters,l=void 0===s?[]:s;return{request:a.map((function(e){return{name:e.name,value:e.value,enabled:e.enabled}})),response:r.map((function(e){return{name:e.name,value:e.value,enabled:e.enabled}})),filters:l.map((function(e){return{filter:e.filter,enabled:e.enabled}}))}};t.default=function(){var e=u.a.useForm(),t=Object(b.a)(e,1)[0],n=Object(h.useCallback)(Object(o.a)(Object(i.a)().mark((function e(){var n,a,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.validateFields();case 3:return n=e.sent,a=R(n),e.t0=j.a,e.t1=Object(j.a)({},a),e.t2={},e.next=10,Object(O.c)();case 10:e.t3=e.sent,e.t4={currentUrl:e.t3},c=(0,e.t0)(e.t1,e.t2,e.t4),d.b.success("\u914d\u7f6e\u5df2\u751f\u6548"),Object(O.g)({type:m.a.MODIFY_HEADER,payload:c}),Object(x.e)(p.a.PopHttpInspect,JSON.stringify(c)),e.next=20;break;case 18:e.prev=18,e.t5=e.catch(0);case 20:case"end":return e.stop()}}),e,null,[[0,18]])}))),[t]),f=Object(h.useCallback)((function(){try{Object(x.b)(p.a.PopHttpInspect).then((function(e){t.setFieldsValue(JSON.parse(e||"{}"))}))}catch(e){}}),[t]);return Object(h.useEffect)((function(){f()}),[f]),chrome.declarativeNetRequest?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(u.a,{form:t,layout:"horizontal",className:F.a.form,children:[Object(B.jsx)(w,{name:"request",title:"Request"}),Object(B.jsx)(w,{name:"response",title:"Response"}),Object(B.jsx)(H,{name:"filters"})]}),Object(B.jsxs)(a.a,{gutter:12,className:F.a.btnGroup,children:[Object(B.jsx)(c.a,{span:12,children:Object(B.jsx)(r.a,{type:"dashed",block:!0,danger:!0,onClick:function(){["request","response","filters"].forEach((function(e){t.setFieldsValue(Object(s.a)({},e,[]))})),n()},children:"\u4e00\u952e\u6e05\u7a7a"})}),Object(B.jsx)(c.a,{span:12,children:Object(B.jsx)(r.a,{type:"primary",block:!0,onClick:n,children:"\u4fdd\u5b58\u914d\u7f6e"})})]})]}):Object(B.jsx)(l.a,{className:F.a.empty,description:Object(B.jsxs)("div",{className:F.a.description,children:["\u63d2\u4ef6\u6ca1\u6709NetRequest\u6743\u9650\uff0c\u4f7f\u7528",Object(B.jsx)("span",{children:"HTTP\u5934\u7f16\u8f91\u529f\u80fd"}),"\u8bf7\u53c2\u8003",Object(B.jsx)("a",{href:"https://ktool.corp.kuaishou.com/helper#update-2",rel:"noreferrer",target:"_blank",children:"\u5347\u7ea7\u6587\u6863"}),"\u624b\u52a8\u66f4\u65b0\u60a8\u7684\u63d2\u4ef6"]})})}},789:function(e,t,n){e.exports={header:"header--IM26o",empty:"empty--+FslM",description:"description--duzCx",form:"form--C1rVI",linkBtn:"linkBtn--OcoWI",btnGroup:"btnGroup--uxp34",deleteBtn:"deleteBtn--IsS0e",noHeaderContent:"noHeaderContent--kH0Lh"}}}]);
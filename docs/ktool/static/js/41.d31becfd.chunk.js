(this.webpackJsonpktool=this.webpackJsonpktool||[]).push([[41],{1001:function(e,t,n){e.exports={content:"content--YA6W4",comtentBox:"comtentBox--xscxs",textArea:"textArea--BnWIQ"}},1759:function(e,t,n){"use strict";n.r(t);n(600);var c=n(608),a=(n(271),n(130)),r=(n(109),n(41)),o=n(8),i=(n(74),n(27)),u=n(15),s=n(5),l=n(631),b=n.n(l),f=n(630),p=n(0),d=n(97),j=n(69),h=n(101),v=n(48),O=n(593),m=n(31),w=n(722),x=n.n(w),g=n(1001),k=n.n(g),y=n(1);t.default=function(){var e=Object(p.useRef)(null),t=Object(p.useState)(""),n=Object(s.a)(t,2),l=n[0],w=n[1],g=Object(p.useState)(""),A=Object(s.a)(g,2),P=A[0],C=A[1],I=Object(p.useState)(""),N=Object(s.a)(I,2),R=N[0],U=N[1],B=Object(f.a)(function(){var e=Object(u.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(d.g)(t)?L(t):i.b.warning("\u8bf7\u8f93\u5165\u6709\u6548\u7684URL");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),1e3),D=Object(p.useCallback)((function(e){var t=e.currentTarget.value;U(t),B(t)}),[B]),E=Object(p.useCallback)((function(){var t,n=null===e||void 0===e||null===(t=e.current)||void 0===t?void 0:t.children;Object(O.a)(n[0]),Object(v.a)("ProxyUrlCopyImage")}),[e]),L=Object(p.useCallback)((function(e){var t=function(e){var t=e.url,n=e.userID,c=new URL(t).search,a=void 0===c?"":c,r=x.a.compressToEncodedURIComponent(JSON.stringify({target:t,userid:n})),o="".concat(m.e,"/rest/vconsole?chrome_proxy_vconsole_conf=").concat(r).concat(a?"&".concat(a.slice(1)):"");return Object(d.f)(o,"\u5185\u5bb9\u592a\u591a\uff0c\u8bf7\u4fee\u6539\u53c2\u6570\u6216cookie")}({url:e,userID:P});t&&(w(t),i.b.success("\u4e8c\u7ef4\u7801\u5df2\u751f\u6210"))}),[P]);return Object(p.useEffect)((function(){Object(u.a)(Object(o.a)().mark((function e(){var t,n,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.c)();case 3:t=e.sent,n=Object(j.b)(),c=n.user,U(t),C(c),L(t),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[L]),Object(y.jsxs)("div",{className:k.a.content,children:[Object(y.jsx)("div",{className:k.a.comtentBox,style:{opacity:l?1:.1},ref:e,children:Object(y.jsx)(b.a,{onError:function(){return i.b.warning("\u4e8c\u7ef4\u7801\u751f\u6210\u5931\u8d25")},value:l,size:200,level:"M"})}),Object(y.jsx)("div",{className:k.a.comtentBox,children:Object(y.jsx)(r.a,{size:"middle",type:"primary",disabled:!l,onClick:E,children:"\u590d\u5236\u4e8c\u7ef4\u7801"})}),Object(y.jsx)(a.a.TextArea,{allowClear:!0,value:R,onChange:D,className:k.a.textArea,placeholder:"\u5982\uff1ahttps://www.kuaishou.com"}),Object(y.jsx)(c.a,{message:"\u8f93\u5165\u7ebf\u4e0aH5\u5730\u5740\uff0c\u76f4\u63a5\u4f7f\u7528\u5feb\u624bAPP => \u626b\u4e00\u626b\uff0c\u5373\u53ef\u5f00\u542f\u7aef\u5185H5\u9875\u9762VConsole\u529f\u80fd\u3002",type:"info"})]})}},586:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(8),a=n(3),r=n(15),o=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var o=document.createElement("canvas"),i=o.getContext("2d"),u=new Image;o.width=t.width,o.height=t.height,u.crossOrigin="Anonymous",u.src=t.toDataURL(),u.onload=function(){i.clearRect(0,0,o.width,o.height),i.drawImage(u,0,0),o.toBlob(function(){var t=Object(r.a)(Object(c.a)().mark((function t(r){var o;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=[new ClipboardItem(Object(a.a)({},r.type,r))],t.prev=1,t.next=4,navigator.clipboard.write(o).then((function(){e(!0)})).catch((function(){n(!1)}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),n(!1);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}())}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},593:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return j}));var c=n(5),a=(n(74),n(27)),r=n(978),o=n(97),i=n(49),u=n(586),s=n(31),l=null,b=!1,f=Object(r.a)(),p=[{title:"\u7eaf\u4e8c\u7ef4\u7801",internal:!1,tooltip:"\u7eaf\u4e8c\u7ef4\u7801\u6a21\u5f0f\uff0c\u53ea\u4f1a\u628a\u539f\u59cb\u4fe1\u606f\u6ce8\u5165\u5230\u4e8c\u7ef4\u7801\u4e2d",btnName:"radioQrcode"},{title:"\u540c\u6b65APP\u767b\u5f55\u6001",internal:!0,tooltip:"\u4f7f\u7528\u5feb\u624bAPP\u626b\u4e00\u626b\uff0c\u5373\u53ef\u767b\u5f55\u5230\u5f53\u524d\u6216\u6307\u5b9a\u9875\u9762",btnName:"radioApp"},{title:"APP\u6253\u5f00\u4efb\u610f\u9875\u9762",internal:!0,tooltip:"\u4f7f\u7528\u5feb\u624bAPP\u626b\u4e00\u626b\uff0c\u5373\u53ef\u5728\u7aef\u5185\u6253\u5f00\u4efb\u610f\u9875\u9762",btnName:"radioAnyPage"}],d=function(e){Object(u.a)(e).then((function(){a.b.success("\u590d\u5236\u6210\u529f")})).catch((function(){a.b.error("\u590d\u5236\u5931\u8d25")}))},j=function(e,t){var n="";switch(e){case 1:n="".concat(s.c,"/helper/mob?uuid=").concat(f),!b&&h(t);break;case 2:var c=new URL(t).search,a=(void 0===c?"":c).replace("?","").replace("url=","queryurl=");n="".concat(s.e,"/rest/redirect?url=").concat(encodeURIComponent(t),"&").concat(a),v();break;default:n=t,v()}return n},h=function(e){v(),l=setInterval((function(){O(e)}),2e3)},v=function(){l&&clearInterval(l)},O=function(e){var t=s.c;Object(o.g)(e)&&/qrcode/.test(window.location.pathname)?i.a.get("".concat(t,"/helper/token/get?id=").concat(f)).then((function(t){v(),Object.keys(t).forEach((function(n){try{!/message/.test(n)&&chrome.cookies.set({url:e,path:"/",name:n,value:t[n],expirationDate:Date.now()/1e3+604800}),b=!0}catch(c){}})),a.b.success("\u767b\u5f55\u6210\u529f\uff0c3\u79d2\u540e\u5173\u95ed\u63d2\u4ef6",3,(function(){window.close()})),chrome.tabs.query({active:!0,currentWindow:!0},(function(t){Object(c.a)(t,1)[0]&&chrome.tabs.update({url:e})}))})).catch((function(){})):v()}}}]);
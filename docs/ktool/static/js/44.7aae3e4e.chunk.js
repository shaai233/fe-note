(this.webpackJsonpktool=this.webpackJsonpktool||[]).push([[44],{1417:function(e,t,i){e.exports={content:"content--8381a",sketchPicker:"sketchPicker--vrek9",toolbox:"toolbox--C0hdf",colorPicker:"colorPicker--CebDH",showColorPicker:"showColorPicker--neTFF"}},1752:function(e,t,i){"use strict";i.r(t);i(273);var n=i(180),o=(i(274),i(181)),r=(i(109),i(41)),c=i(8),a=i(15),l=i(5),s=i(0),d=i(1734);var u,h,p=i(97),m=i(48),b=i(101),f=i(129),v=function(){if(document.querySelector("#kuaishou-chrome-plugin-color-picker")){var e=document.querySelector("#kuaishou-chrome-plugin-color-picker"),t=document.querySelector("#kuaishou-chrome-plugin-color-preview"),i=document.querySelector("#kuai-show-chrome-plugin-colorInputBox");"visible"===e.style.visibility?(e.style.visibility="hidden",t.style.visibility="hidden",i.style.visibility="hidden"):(e.style.visibility="visible",t.style.visibility="visible",i.style.visibility="visible")}else{var n,o,r,c,a,l,s=document.createElement("canvas"),d=s.getContext("2d"),u=1,h=1,p=120,m=function(){return new Promise((function(e,t){chrome.runtime?chrome.runtime.sendMessage({type:f.a.SHOW_COLOR_PICKER},(function(t){e(t)})):e("")}))},b=function(e,t){Object.keys(t).forEach((function(i){e.style.setProperty(i,t[i])}))},v=function(e){return null===e||0===(e=parseInt(e))||isNaN(e)?"00":(e=Math.max(0,e),e=Math.min(e,255),e=Math.round(e),"0123456789ABCDEF".charAt((e-e%16)/16)+"0123456789ABCDEF".charAt(e%16))},w=function(){(l=document.createElement("canvas")).width=p,l.height=p},g=function(){n.style.height="auto",n.style.width=window.innerWidth+"px",u=n.naturalWidth/window.innerWidth,h=n.naturalHeight/window.innerHeight,s.width=n.naturalWidth,s.height=n.naturalHeight,null===d||void 0===d||d.drawImage(n,0,0),setTimeout((function(){n.style.visibility="visible"}),255)},x=function(e){var t,i=l.getContext("2d")||(w(),l.getContext("2d")),n=e.pageX-window.pageXOffset,r=e.pageY-window.pageYOffset,c=Math.round(n*u)-7.5,a=Math.round(r*h)-7.5;null===i||void 0===i||i.drawImage(s,c,a,15,15,0,0,p,p),function(e,t,i,n,o){null===e||void 0===e||e.beginPath(),e.strokeStyle=n,e.lineWidth=1;for(var r=.5+t;r<l.width;r+=t)e.moveTo(r,0),e.lineTo(r,l.height);for(var c=.5+t;c<l.height;c+=i)e.moveTo(0,c),e.lineTo(l.width,c);e.stroke()}(i,8,8,"#ccc"),(t=i).beginPath(),t.lineWidth=1,t.strokeStyle="red",t.rect(56,56,8,8),t.stroke(),b(o,{width:"120px",height:"120px",position:"fixed",left:n+"px",top:r+"px"}),o.appendChild(l)},y=function(e){var t,i,n,o=e.pageX-window.pageXOffset,r=e.pageY-window.pageYOffset,a=Math.round(o*u),l=Math.round(r*h),s=(null===d||void 0===d?void 0:d.getImageData(a,l,1,1).data)||[],p=(t=s[0],i=s[1],n=s[2],v(t)+v(i)+v(n));console.info("color picker",p),c.innerHTML='<span style="margin-right: 15px">HEX: #'.concat(p,'</span> <span style="margin-right: 15px"> RGB: (').concat(s[0],", ").concat(s[1],", ").concat(s[2],")</span>hex\u503c\u5df2\u590d\u5236"),k("#".concat(p))},k=function(e){chrome.runtime?chrome.runtime.sendMessage({type:f.a.SET_CLIPBOARD,payload:e},(function(e){console.log("clipboard set to",e)})):console.warn("set clipboard\u53ea\u80fd\u5728\u63d2\u4ef6\u4e2d\u4f7f\u7528")},O=function(){b(n,{visibility:"hidden"}),b(o,{visibility:"hidden"}),b(r,{visibility:"hidden"}),clearTimeout(a),a=window.setTimeout((function(){m().then((function(e){n.src=e,b(n,{width:window.innerWidth+"px",height:window.innerHeight+"px",visibility:"visible"}),b(o,{visibility:"visible"}),b(r,{visibility:"visible"})}))}),200)},j=function(e){"Escape"===e.key&&E()},E=function(){document.body.removeChild(n),document.body.removeChild(o),document.body.removeChild(r),document.removeEventListener("click",y),document.removeEventListener("mousemove",x),window.removeEventListener("keydown",j),window.removeEventListener("scroll",O),window.removeEventListener("resize",O)};w(),function(){document.addEventListener("click",y),(n=document.createElement("img")).alt="",n.id="kuaishou-chrome-plugin-color-picker";var e=window.innerWidth,t=window.innerHeight;b(n,{width:e+"px",height:t+"px",position:"fixed",top:"0px",left:"0px",margin:"0px",padding:"0px",overflow:"hidden","z-index":"10000000000000",cursor:"crosshair"}),n.addEventListener("load",g),document.addEventListener("mousemove",x),document.body.appendChild(n),m().then((function(e){e&&(n.src=e,b(n,{width:window.innerWidth+"px",height:window.innerHeight+"px"}))}))}(),(o=document.createElement("div")).id="kuaishou-chrome-plugin-color-preview",b(o,{width:"0px",height:"0px",position:"fixed","border-radius":"50%",overflow:"hidden",border:"1px solid #ccc",left:"0",top:"0","z-index":"10000000000001",cursor:"crosshair"}),document.body.appendChild(o),function(){(r=document.createElement("div")).id="kuai-show-chrome-plugin-colorInputBox",(c=document.createElement("div")).innerHTML='<span style="margin-right: 30px">HEX: #FFFFFF</span> RGB: ('.concat(255,", ",255,", ",255,")");var e=document.createElement("span");e.innerHTML="+",r.appendChild(c),r.appendChild(e),b(r,{height:"32px",position:"fixed","border-radius":"4px",border:"1px solid #ccc","line-height":"32px","text-align":"center",left:"50%",transform:"translateX(-50%)",top:"0","z-index":"10000000000001",visibility:"visible",background:"rgb(0,0,0,0.7)",color:"#fff",padding:"0px 26px 0 16px"}),b(e,{position:"absolute",right:"5px",bottom:"-1px","font-size":"24px",transform:"rotate(45deg)",cursor:"pointer",color:"white"}),c.addEventListener("click",(function(e){return e.stopPropagation()})),e.addEventListener("click",(function(e){e.stopPropagation(),E()})),document.body.appendChild(r)}(),window.addEventListener("scroll",O),window.addEventListener("resize",O),window.addEventListener("keydown",j)}},w=["title","titleId"];function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},g.apply(this,arguments)}function x(e,t){if(null==e)return{};var i,n,o=function(e,t){if(null==e)return{};var i,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}function y(e,t){var i=e.title,n=e.titleId,o=x(e,w);return s.createElement("svg",g({t:1631592138125,className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":6065,xmlnsXlink:"http://www.w3.org/1999/xlink",width:200,height:200,ref:t,"aria-labelledby":n},o),i?s.createElement("title",{id:n},i):null,u||(u=s.createElement("defs",null,s.createElement("style",{type:"text/css"}))),h||(h=s.createElement("path",{d:"M812.373333 104.618667c17.578667 0 34.432 6.997333 46.890667 19.456l40.618667 40.618666c25.941333 25.898667 25.941333 67.882667 0.085333 93.824L805.546667 352.853333l15.445333 15.445334a42.581333 42.581333 0 0 1 0 60.288l-29.866667 29.952a42.666667 42.666667 0 0 1-60.330666 0.042666L725.333333 453.12l-376.917333 375.210667c-14.848 14.933333-34.133333 24.490667-54.912 27.306666l-7.808 0.725334-15.274667 15.189333A82.688 82.688 0 0 1 211.413333 896a83.498667 83.498667 0 0 1-63.872-137.216l4.864-5.290667 15.189334-15.146666c1.152-21.034667 9.173333-41.002667 22.698666-56.96l5.333334-5.802667 377.002666-375.296-7.082666-7.04-3.584-4.053333a42.666667 42.666667 0 0 1 3.541333-56.32l29.866667-29.866667a42.666667 42.666667 0 0 1 60.373333 0l15.36 15.445333 94.378667-94.378666a66.176 66.176 0 0 1 46.890666-19.456z m-209.621333 225.834666l-376.96 375.296c-7.978667 8.021333-13.226667 18.304-15.018667 29.354667l-0.597333 5.589333-0.896 16.298667-26.666667 26.666667a40.832 40.832 0 0 0 53.589334 61.269333l4.053333-3.584 26.837333-26.794667 16.341334-0.853333c11.221333-0.597333 21.888-4.693333 30.634666-11.861333l4.224-3.84 376.789334-375.125334-92.330667-92.416z","p-id":6066})))}var k=s.forwardRef(y),O=(i.p,i(1417)),j=i.n(O),E=i(1),C=function(e){var t=/#/.test(e)?e:"#".concat(e),i=function(e){var t;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return 3===(t=e.substring(1).split("")).length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),[(t="0x"+t.join(""))>>16&255,t>>8&255,255&t,1];throw new Error("Bad Hex")}(t),n=Object(l.a)(i,4);return{hex:t,rgb:{r:n[0],g:n[1],b:n[2],a:n[3]},hsl:{}}};t.default=function(){var e=Object(s.useState)(C("#2B66F6")),t=Object(l.a)(e,2),i=t[0],u=t[1],h=function(){var e=Object(a.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.f)();case 2:t=e.sent,/^([#0-9a-fA-F])[0-9a-fA-F]{5,6}$/.test(t)&&u(C(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=Object(s.useCallback)((function(){Object(m.a)("ColorPickFromPage"),chrome.tabs?Object(b.a)("__insertColorPicker","".concat(v),{key:"1"}):v(),setTimeout((function(){chrome.tabs&&window.close()}),1e3)}),[]);return Object(s.useEffect)((function(){h()}),[]),Object(E.jsxs)("div",{className:j.a.content,children:[Object(E.jsx)(d.a,{width:"100%",color:i.rgb,presetColors:["#FF4906","#F3B02B","#2B66F6","#5FC5FA","#73F1FC","#61CF97"],className:j.a.sketchPicker,onChange:function(e){u(e)}}),Object(E.jsxs)(n.a,{gutter:12,className:j.a.toolbox,children:[Object(E.jsx)(o.a,{span:12,children:Object(E.jsx)(r.a,{block:!0,size:"middle",type:"primary",onClick:function(){Object(p.b)(i.hex)},children:"\u590d\u5236Hex"})}),Object(E.jsx)(o.a,{span:12,children:Object(E.jsx)(r.a,{block:!0,size:"middle",type:"primary",onClick:function(){var e=i.rgb,t=e.r,n=e.g,o=e.b,r=e.a;Object(p.b)("rgba(".concat(t,",").concat(n,",").concat(o,",").concat(r,")"))},children:"\u590d\u5236RGBA"})})]}),Object(E.jsx)("div",{className:j.a.colorPicker,children:Object(E.jsx)(k,{onClick:function(){return f()}})})]})}}}]);
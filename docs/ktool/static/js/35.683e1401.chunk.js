(this.webpackJsonpktool=this.webpackJsonpktool||[]).push([[35],{1e3:function(e,t,c){e.exports={qrcodebox:"qrcodebox--2wcAI",scanner:"scanner--uNfVL",box:"box--o2sOw",line:"line--epkyI","radar-beam":"radar-beam--NdGq4",angle:"angle--NMKc6",choosebox:"choosebox--HWpmu",search:"search--IoSaM",toolbox:"toolbox--jbYbL",radioTip:"radioTip--sVx7n",internal:"internal--VeP5u"}},1758:function(e,t,c){"use strict";c.r(t);c(273);var n=c(180),a=(c(274),c(181)),r=(c(109),c(41)),o=(c(271),c(130)),i=c(8),s=c(15),u=c(5),l=c(631),b=c.n(l),j=c(0),d=c(101),h=c(48),p=c(97),f=c(98),O=(c(74),c(27)),x=c(978),v=c(49),m=c(586),w=c(31),g=null,k=!1,y=Object(x.a)(),C=function(e){N(),g=setInterval((function(){I(e)}),2e3)},N=function(){g&&clearInterval(g)},I=function(e){var t=w.c;Object(p.g)(e)&&/applogin/.test(window.location.pathname)?v.a.get("".concat(t,"/helper/token/get?id=").concat(y)).then((function(t){N(),Object.keys(t).forEach((function(c){try{!/message/.test(c)&&chrome.cookies.set({url:e,path:"/",name:c,value:t[c],expirationDate:Date.now()/1e3+604800}),k=!0}catch(n){}})),O.b.success("\u767b\u5f55\u6210\u529f\uff0c3\u79d2\u540e\u5173\u95ed\u63d2\u4ef6",3,(function(){window.close()})),chrome.tabs.query({active:!0,currentWindow:!0},(function(t){Object(u.a)(t,1)[0]&&chrome.tabs.update({url:e})}))})).catch((function(){})):N()},A=c(1e3),L=c.n(A),T=c(1);t.default=function(){var e=Object(j.useState)(""),t=Object(u.a)(e,2),c=t[0],l=t[1],x=Object(j.useState)(""),v=Object(u.a)(x,2),g=v[0],N=v[1],I=Object(j.useRef)(null),A=Object(j.useCallback)((function(){Object(p.a)(g),Object(h.a)("AppLoginCopyTextArea")}),[g]),q=Object(j.useCallback)((function(){l(Object(p.f)(function(e){return!k&&C(e),"".concat(w.c,"/helper/mob?uuid=").concat(y)}(g)))}),[g]);return Object(j.useEffect)((function(){Object(s.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.c)();case 2:(t=e.sent)&&(N(t),q());case 4:case"end":return e.stop()}}),e)})))()}),[q]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:L.a.qrcodebox,children:[Object(T.jsx)("div",{ref:I,children:Object(T.jsx)(b.a,{value:c,size:200})}),Object(T.jsx)("div",{className:L.a.scanner,children:Object(T.jsxs)("div",{className:L.a.box,children:[Object(T.jsx)("div",{className:L.a.line}),Object(T.jsx)("div",{className:L.a.angle})]})})]}),Object(T.jsx)("div",{className:L.a.choosebox,children:Object(T.jsx)(o.a.TextArea,{allowClear:!0,placeholder:"\u8bf7\u8f93\u5165URL\uff0c\u4f8b\u5982\uff1ahttps://www.kuaishou.com",value:g,className:L.a.search,onChange:function(e){N(e.currentTarget.value)}})}),Object(T.jsxs)(n.a,{gutter:12,className:L.a.toolbox,children:[Object(T.jsx)(a.a,{span:12,children:Object(T.jsx)(r.a,{block:!0,size:"middle",type:"primary",onClick:function(){var e;!function(e){Object(m.a)(e).then((function(){O.b.success("\u590d\u5236\u6210\u529f")})).catch((function(){O.b.error("\u590d\u5236\u5931\u8d25")}))}((null===I||void 0===I||null===(e=I.current)||void 0===e?void 0:e.children)[0]),Object(h.a)("AppLoginCopyImage")},children:"\u590d\u5236\u4e8c\u7ef4\u7801"})}),Object(T.jsx)(a.a,{span:12,children:Object(T.jsx)(f.CopyToClipboard,{text:g,onCopy:A,children:Object(T.jsx)(r.a,{block:!0,size:"middle",type:"primary",children:"\u590d\u5236\u8f93\u5165\u5185\u5bb9"})})})]})]})}},180:function(e,t,c){"use strict";var n=c(505);t.a=n.a},181:function(e,t,c){"use strict";var n=c(207);t.a=n.a},273:function(e,t,c){"use strict";c(54),c(272)},274:function(e,t,c){"use strict";c(54),c(272)},586:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var n=c(8),a=c(3),r=c(15),o=function(){var e=Object(r.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,c){var o=document.createElement("canvas"),i=o.getContext("2d"),s=new Image;o.width=t.width,o.height=t.height,s.crossOrigin="Anonymous",s.src=t.toDataURL(),s.onload=function(){i.clearRect(0,0,o.width,o.height),i.drawImage(s,0,0),o.toBlob(function(){var t=Object(r.a)(Object(n.a)().mark((function t(r){var o;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=[new ClipboardItem(Object(a.a)({},r.type,r))],t.prev=1,t.next=4,navigator.clipboard.write(o).then((function(){e(!0)})).catch((function(){c(!1)}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),c(!1);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}())}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
(window.nojMonomainwebpackJsonpproduction=window.nojMonomainwebpackJsonpproduction||[]).push([[68],{"4j/N":function(e,n,i){"use strict";i.d(n,"a",(function(){return s}));var a=i("ERkP"),t=i.n(a),o=i("TMWK"),r=i("fgAA"),l=Object(o.a)("span",{target:"e1vj4u520"})((function(e){var n=e.disabled;return{display:"inline-flex",verticalAlign:"bottom",alignItems:"center",justifyContent:"center",height:"100%",boxSizing:"border-box",color:r.a.grey(8),cursor:n?"not-allowed":"pointer",userSelect:"none",transition:"all 0.3s","::before":{transition:"all 0.3s",cursor:n?"not-allowed":"pointer"}}}),"label:Radio;");function s(e){var n=e.value,i=e.checked,o=e.disabled,r=e.onValueChange,s=e.className,d=e.children,u=Object(a.useCallback)((function(){o||r(n)}),[o,n,r]);return t.a.createElement(l,{value:n,checked:i,disabled:o,className:s,onClick:u,role:"radio","aria-checked":i},d)}},"4qbg":function(e,n,i){"use strict";i.d(n,"a",(function(){return I}));var a=i("D57K"),t=i("ERkP"),o=i.n(t),r=i("5Nzd"),l=i("udfv"),s=i.n(l),d=i("B07F"),u=i("Zz61"),m=i("hIJ3"),c=i("ZYS8"),b={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"submissionCreateOrUpdateSubmissionComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"submissionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"flagType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SubmissionFlagTypeEnum"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"comment"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submissionCreateOrUpdateSubmissionComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"comment"},value:{kind:"Variable",name:{kind:"Name",value:"comment"}}},{kind:"Argument",name:{kind:"Name",value:"flagType"},value:{kind:"Variable",name:{kind:"Name",value:"flagType"}}},{kind:"Argument",name:{kind:"Name",value:"submissionId"},value:{kind:"Variable",name:{kind:"Name",value:"submissionId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"mutation submissionCreateOrUpdateSubmissionComment($submissionId: ID!, $flagType: SubmissionFlagTypeEnum!, $comment: String!) {\n  submissionCreateOrUpdateSubmissionComment(comment: $comment, flagType: $flagType, submissionId: $submissionId) {\n    ok\n  }\n}\n"}},operationName:"submissionCreateOrUpdateSubmissionComment",defName:"submissionCreateOrUpdateSubmissionComment"},p=i("34li"),g=i("fgAA"),v=[{value:p.Dc.Blue,color:g.b.BlueStandard()},{value:p.Dc.Orange,color:g.b.Warning()},{value:p.Dc.Green,color:g.b.Olive()},{value:p.Dc.Purple,color:g.b.Purple()},{value:p.Dc.Red,color:g.b.Pink()}],f=g.b.BaseGrey6(),k=new Map(v.map((function(e){return[e.value,e.color]}))),y=i("TMWK"),x=i("N49g"),C=i("/NrN"),h=i("7a+J"),N=Object(y.a)(x.a,{target:"e6mfabo0"})(h.a.modal,{borderRadius:"13px","> div:first-of-type":{padding:"20px 20px 0px 20px",fontSize:"18px",boxShadow:"none","> div":{height:"25px",padding:"0px",margin:"0px","> div":{lineHeight:"25px",padding:"0px",margin:"0px"},"> button":{margin:"0px",padding:"0px","> svg":{fill:g.b.BaseGrey6(),width:"24px",height:"24px"}}}},"> div:last-of-type":{boxShadow:"none",overscrollBehavior:"contain"}},"label:StyledEditMarkModal;"),S=Object(y.a)("div",{target:"e6mfabo1"})({display:"flex",alignItems:"center",height:"56px",padding:"4px 20px 20px 20px"},"label:StyledEditMarkFooterContainer;"),_=Object(y.a)("div",{target:"e6mfabo2"})({margin:"0px 4px 16px 4px"},"label:FlagChoiceContainer;"),O=Object(y.a)("div",{target:"e6mfabo3"})({".ant-input-textarea":{borderRadius:"5px",background:g.b.FillTertiary(),margin:"16px 4px 0px 4px",width:"560px","> textarea":{color:g.b.LabelPrimary(),resize:"none",fontSize:"14px"},"&::after":{display:"block",content:"attr(data-count)",color:g.b.LabelQuaternary(),textAlign:"right",transform:"translate(-10px, -4px)"}}},"label:CommentInputContainer;"),j=Object(y.a)(C.a,{target:"e6mfabo4"})({fontSize:"14px",fontWeight:500,lineHeight:"20px",borderRadius:"5px"},"label:StyledButton;"),w=Object(y.a)(j,{target:"e6mfabo5"})({marginLeft:"16px"},"label:SaveButton;"),E=Object(y.a)(j,{target:"e6mfabo6"})({},"label:CancelButton;"),D=Object(y.a)("div",{target:"e6mfabo7"})({display:"flex",alignItems:"center",flex:"1 1 0px"},"label:RemoveButtonContainer;"),F=Object(y.a)(j,{target:"e6mfabo8"})({},"label:RemoveButton;"),T=Object(y.a)("span",{target:"e6mfabo9"})({fontWeight:500,fontSize:"18px"},"label:TitleContainer;");function R(e,n,i){return r.b.getInstance(d.a).mutate({mutation:b,variables:{submissionId:e,flagType:n,comment:i}}).toPromise()}function A(e){var n=e.initFlag,i=e.initComment,r=e.submissionId,l=e.isActive,d=e.onRemoveMark,b=e.onSaveMark,g=e.onClose,f=Object(a.__read)(Object(t.useState)({flag:n,comment:i}),2),k=f[0],y=f[1],x=Object(a.__read)(Object(t.useState)(!1),2),C=x[0],h=x[1],j=Object(a.__read)(Object(t.useState)(!1),2),A=j[0],M=j[1],I=k.flag,L=k.comment;Object(t.useEffect)((function(){y({flag:n,comment:i}),M(!1),h(!1)}),[n,i]);var B=o.a.useCallback((function(){I?(y({flag:I,comment:L}),h(!0),R(r,I,L||"").then((function(){h(!1),b(I,L||"")})).catch((function(){h(!1)}))):g()}),[r,I,L,b,g]),V=o.a.useCallback((function(){y({flag:p.Dc.White,comment:""}),M(!0),R(r,p.Dc.White,"").then((function(){M(!1),d()})).catch((function(){M(!1)}))}),[r,d]),P=o.a.useCallback((function(){g()}),[g]),W=o.a.createElement(T,null,"\u6807\u8bb0\u5907\u6ce8"),z=o.a.createElement(m.a,{title:W,type:"default",onClickCloseButton:P}),q=Object(t.useMemo)((function(){return v.map((function(e){var n=o.a.createElement(c.a,{fill:e.color});return{value:e.value,label:n}}))}),[]),G=Object(t.useMemo)((function(){return o.a.createElement(S,null,o.a.createElement(D,null,n&&n!==p.Dc.White&&o.a.createElement(F,{onClick:V,loading:A,kind:"danger"},"\u5220\u9664")),o.a.createElement(E,{onClick:P},"\u53d6\u6d88"),o.a.createElement(w,{onClick:B,disabled:!I||I===p.Dc.White,loading:C,kind:"primary"},"\u4fdd\u5b58"))}),[V,B,P,I,C,A,n]),K=Object(t.useCallback)((function(e){y(Object(a.__assign)(Object(a.__assign)({},k),{flag:e}))}),[k]),U=Object(t.useMemo)((function(){return o.a.createElement(_,null,o.a.createElement(u.a,{checkedValue:I,onValueChange:K,options:q,radioSpacing:"16px"}))}),[K,I,q]),Z=Object(t.useCallback)((function(e){var n=e.target.value;y(Object(a.__assign)(Object(a.__assign)({},k),{comment:n}))}),[k]);return o.a.createElement(N,{header:z,footer:G,isActive:l,onClickOutside:P},U,o.a.createElement(O,null,o.a.createElement(s.a,{maxLength:100,showCount:!0,bordered:!1,autoSize:{minRows:4,maxRows:10},onChange:Z,placeholder:"\u6dfb\u52a0\u5907\u6ce8\uff0c\u4f8b\u5982\u300c\u66b4\u529b\u89e3\u6cd5\u300d\u3001\u300c\u65b9\u6cd5\u4e00\u300d\u7b49...",value:L})))}var M=i("ONao");function I(e){var n=e.submissionId,i=e.initFlag,r=e.initComment,l=e.onMarkChange,s=e.className,d=e.isReadonly,u=e.size,m=e.showEmptyFlag,b=void 0===m||m,g=e.emptyComment,v=void 0===g?"\u6dfb\u52a0\u5907\u6ce8":g,y=Object(a.__read)(Object(t.useState)({flag:i,comment:r}),2),x=y[0],C=y[1],h=Object(a.__read)(Object(t.useState)(!1),2),N=h[0],S=h[1],_=x.flag,O=x.comment;Object(t.useEffect)((function(){C({flag:i,comment:r})}),[i,r,N]);var j=!_||_===p.Dc.White,w=Object(t.useMemo)((function(){var e=u||"16px";return j?b?o.a.createElement(c.b,{width:e,height:e}):void 0:o.a.createElement(c.a,{fill:k.get(_)||f,width:e,height:e})}),[j,_,u,b]),E=j?v:O||"",D=Object(t.useMemo)((function(){return o.a.createElement(M.c,{content:E,trigger:"hover",placement:"top"},o.a.createElement(M.b,{className:j?"empty-comment":"comment"},E))}),[E,j]),F=Object(t.useCallback)((function(e,i){C({flag:e,comment:i}),S(!1),l&&l(n,e,i)}),[l,n]),T=Object(t.useCallback)((function(){C({flag:void 0,comment:void 0}),S(!1),l&&l(n)}),[l,n]),R=Object(t.useCallback)((function(){S(!1)}),[]),I=Object(t.useCallback)((function(){!d&&S(!0)}),[d]);return o.a.createElement("div",{className:s},o.a.createElement(M.a,{onClick:I,isReadonly:d},w,D),N&&o.a.createElement(A,{submissionId:n,initFlag:_,initComment:O,isActive:N,onSaveMark:F,onRemoveMark:T,onClose:R}))}},APdD:function(e,n,i){"use strict";i.d(n,"a",(function(){return t}));var a=i("43mT"),t=Object(a.a)({submissionDetailTimeBarClick:function(e){return{gio:{data:{submission_detail_user_slug:e}}}},submissionDetailMemoryBarClick:function(e){return{gio:{data:{submission_detail_user_slug:e}}}},submissionDetailAcAfterAdClick:function(e,n,i){return{gio:{data:{submission_detail_user_slug:e,submission_detail_ad_name:n,submission_detail_question_slug:i}}}},submissionDetailAcAfterAdExposure:function(e,n,i){return{gio:{data:{submission_detail_user_slug:e,submission_detail_ad_name:n,submission_detail_question_slug:i}}}},submissionDetailAcAdLimitExposure:function(e,n,i){return{gio:{data:{submission_detail_user_slug:e,submission_detail_ad_name:n,submission_detail_question_slug:i}}}},submissionDetailBetterCodeLinkClick:function(e,n,i){return{gio:{data:{submission_detail_user_slug:e,submission_detail_question_slug:n,submission_detail_link_type:i}}}},submissionDetailBetterCodeTimeExposure:function(e,n,i,a){return{gio:{data:{submission_detail_user_slug:e,submission_detail_question_slug:n,submission_detail_link_type:i,submission_detail_time:a}}}}})},II5T:function(e,n,i){"use strict";n.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"mySubmissionDetail"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submissionDetail"},arguments:[{kind:"Argument",name:{kind:"Name",value:"submissionId"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"runtime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memory"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rawMemory"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statusDisplay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lang"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isMine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passedTestCaseCnt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalTestCaseCnt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sourceUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"question"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"titleSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translatedTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questionId"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeneralSubmissionNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"outputDetail"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"codeOutput"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expectedOutput"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"input"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"compileError"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"runtimeError"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastTestcase"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"submissionComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"flagType"},arguments:[],directives:[]}]}}]}}]}}],loc:{source:{body:"query mySubmissionDetail($id: ID!) {\n  submissionDetail(submissionId: $id) {\n    id\n    code\n    runtime\n    memory\n    rawMemory\n    statusDisplay\n    timestamp\n    lang\n    isMine\n    passedTestCaseCnt\n    totalTestCaseCnt\n    sourceUrl\n    question {\n      titleSlug\n      title\n      translatedTitle\n      questionId\n    }\n    ... on GeneralSubmissionNode {\n      outputDetail {\n        codeOutput\n        expectedOutput\n        input\n        compileError\n        runtimeError\n        lastTestcase\n      }\n    }\n    submissionComment {\n      comment\n      flagType\n    }\n  }\n}"}},operationName:"mySubmissionDetail",defName:"submissionDetail"}},ONao:function(e,n,i){"use strict";i.d(n,"b",(function(){return r})),i.d(n,"c",(function(){return l})),i.d(n,"a",(function(){return s}));var a=i("TMWK"),t=i("fgAA"),o=i("nXSc"),r=Object(a.a)("p",{target:"e17amc9y0"})({whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"132px",margin:"0px 12px 0px 2px",color:t.b.LabelSecondary()},"label:StyledEntranceComment;"),l=Object(a.a)(o.a,{target:"e17amc9y1"})({fontWeight:"normal",background:t.b.LabelSecondary(),"> div":{maxWidth:"264px",wordBreak:"break-all"}},"label:StyledTooltip;"),s=Object(a.a)("div",{target:"e17amc9y2"})((function(e){return{display:"flex",alignItems:"center","&:hover":{cursor:e.isReadonly?"auto":"pointer"}}}),"label:EntranceContainer;")},OPGP:function(e,n,i){"use strict";i.d(n,"b",(function(){return o})),i.d(n,"a",(function(){return r}));var a=i("TMWK"),t=i("fgAA"),o=Object(a.a)("div",{target:"ekjm8nw0"})((function(e){return{display:"inline-block","> span + span":{marginLeft:e.radioSpacing}}}),"label:StyledRadioGroup;"),r=Object(a.a)("div",{target:"ekjm8nw1"})({display:"inline-block",height:"100%","> span":{":first-of-type":{borderRadius:"4px 0 0 4px"},":last-of-type":{borderRadius:"0 4px 4px 0"},":not(:first-of-type)":{borderLeftWidth:0,"&:hover":{boxShadow:"-1px 0 0 0 "+t.a.primary(5)}},"&[disabled]":{"+ span":{boxShadow:"-1px 0 0 0 "+t.a.primary(5)}}}},"label:StyledRadioButtonGroup;")},ZYS8:function(e,n,i){"use strict";i.d(n,"a",(function(){return l})),i.d(n,"b",(function(){return s}));var a=i("D57K"),t=i("ERkP"),o=i.n(t),r=i("GG6d"),l=o.a.forwardRef((function(e,n){return o.a.createElement(r.a,Object(a.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",height:"24px",ref:n,fill:"currentColor",style:{flexShrink:0}},e),o.a.createElement("path",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",d:"M18.4138 10.9104C18.7588 10.7535 18.9856 10.4151 18.9993 10.0364C19.0131 9.65759 18.8116 9.30359 18.4789 9.1221L7.47885 3.1221C7.16901 2.9531 6.79303 2.95994 6.48954 3.1401C6.18605 3.32026 6 3.64706 6 4V20C6 20.5523 6.44772 21 7 21C7.55229 21 8 20.5523 8 20L8 15.6439L18.4138 10.9104Z"}))})),s=o.a.forwardRef((function(e,n){return o.a.createElement(r.a,Object(a.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",height:"24px",style:{flexShrink:0},ref:n},e),o.a.createElement("path",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",d:"M18.9993 10.0364C18.9856 10.4151 18.7588 10.7535 18.4138 10.9104L8 15.6439L8 20C8 20.5523 7.55228 21 7 21C6.44771 21 6 20.5523 6 20L6 4C6 3.64706 6.18604 3.32026 6.48953 3.1401C6.79302 2.95994 7.16901 2.9531 7.47885 3.12211L18.4788 9.1221C18.8116 9.30359 19.0131 9.65759 18.9993 10.0364ZM8 13.447L15.7625 9.91861L8 5.68454L8 13.447Z",fill:"#8C8C8C"}))}))},Zz61:function(e,n,i){"use strict";i.d(n,"a",(function(){return l}));var a=i("ERkP"),t=i.n(a),o=i("fSLP"),r=i("OPGP"),l=function(e){var n=e.options,i=e.onValueChange,a=e.checkedValue,l=e.radioSpacing,s=void 0===l?"8px":l,d=e.className,u=e.disabled,m=void 0!==u&&u;return t.a.createElement(r.b,{role:"radiogroup",radioSpacing:s,className:d},n.map((function(e){var n=e.label,r=e.value,l=e.disabled,s=void 0!==l&&l;return t.a.createElement(o.a,{key:r,value:r,checked:a===r,disabled:m||s,onValueChange:i},n)})))}},fSLP:function(e,n,i){"use strict";i.d(n,"a",(function(){return r}));var a=i("TMWK"),t=i("fgAA"),o=i("4j/N"),r=Object(a.a)(o.a,{target:"er56ft30"})({"&::before":{content:'""',display:"inline-block",width:"16px",height:"16px",marginRight:"4px",border:"2px solid "+t.a.grey(5),boxSizing:"border-box",flex:"0 0 auto",borderRadius:"100%",background:t.a.grey(0)},"&:hover":{"&::before":{borderColor:""+t.a.primary(5)}}},(function(e){return e.checked?{"&::before":{border:"5px solid "+t.a.primary(5)},"&:hover":{"&::before":{borderColor:""+t.a.primary(6)}}}:{}}),(function(e){return e.disabled?{color:""+t.a.grey(6),"&::before":{background:t.a.grey(3),borderColor:t.a.grey(4)},"&:hover":{"&::before":{borderColor:t.a.grey(4)}}}:{}}))},iZrh:function(e,n,i){"use strict";i.d(n,"a",(function(){return r}));var a=i("D57K"),t=i("ERkP"),o=i.n(t);function r(e){var n=Object(a.__read)(function(e){var n=Object(a.__read)(o.a.useState(e),2),i=n[0],t=n[1],r=o.a.useCallback((function(){return t((function(e){return!e}))}),[t]),l=o.a.useCallback((function(){return t(!0)}),[t]),s=o.a.useCallback((function(){return t(!1)}),[t]);return[i,o.a.useMemo((function(){return{toggle:r,activate:l,deactivate:s}}),[r,l,s])]}(e),2),i=n[0],t=n[1];return{isActive:i,show:t.activate,hide:t.deactivate,toggle:t.toggle}}},"z/Ec":function(e,n,i){"use strict";i.d(n,"a",(function(){return d}));var a=i("D57K"),t=i("XKjd"),o=i("excc"),r=(i("FLAH"),i("ERkP")),l=i.n(r),s=i("5v9p"),d=function(e){return l.a.createElement(o.a,Object(a.__assign)({},e,{overlayClassName:Object(t.b)(s.a,e.overlayClassName)}))}}}]);